# Задача 5: Мультиязычность (i18n)

После этой задачи у тебя будет:
- Переключатель языков RU/EN
- Весь контент на двух языках
- Язык сохраняется при перезагрузке

---

## Часть 1: Что такое i18n?

**i18n** = internationalization (между i и n — 18 букв)

Это когда сайт работает на разных языках. Пользователь выбирает язык, и весь текст меняется.

---

## Часть 2: Добавь мультиязычность

### Шаг 2.1: Перейди в проект

```bash
cd /c/projects/nha-trang/visa
claude
```

### Шаг 2.2: Попроси Claude настроить i18n

```
Добавь мультиязычность на сайт про визу (русский и английский).

Требования:

1. Переключатель языков:
   - В шапке сайта
   - Кнопки RU / EN
   - Текущий язык выделен

2. Структура переводов:
   - Файлы с переводами в папке /locales или /messages
   - Отдельный файл для каждого языка (ru.json, en.json)

3. Что перевести:
   - Все заголовки секций
   - Весь текст про визы
   - Кнопки и ссылки
   - Форму обратной связи (если есть)

4. Сохранение языка:
   - Запоминать выбор в localStorage
   - При перезагрузке — тот же язык

Используй next-intl или похожую библиотеку.
Объясни что делаешь.
```

---

## Часть 3: Создай переводы

### Шаг 3.1: Попроси Claude создать файлы переводов

```
Создай файлы переводов для всего контента сайта.

Русский (ru.json) — оставь как есть
Английский (en.json) — переведи весь текст

Структура примерно такая:
{
  "header": {
    "title": "Виза во Вьетнам"
  },
  "sections": {
    "visaFree": {
      "title": "Безвизовый въезд",
      "content": "..."
    }
  },
  "form": {
    "name": "Имя",
    "submit": "Отправить"
  }
}
```

---

## Часть 4: Проверь что работает

### Шаг 4.1: Запусти сайт

```bash
npm run dev
```

### Шаг 4.2: Протестируй

1. Открой сайт — должен быть русский по умолчанию
2. Нажми "EN" — всё переключилось на английский?
3. Перезагрузи страницу — язык сохранился?
4. Проверь все секции — всё переведено?

---

## Часть 5: Если контент в базе данных

Если ты делал задачу 003 (MongoDB), нужно хранить переводы в базе:

```
Сейчас контент хранится в MongoDB.

Измени структуру так, чтобы каждая секция имела переводы:
{
  "title": {
    "ru": "Безвизовый въезд",
    "en": "Visa-free entry"
  },
  "content": {
    "ru": "Для граждан РФ...",
    "en": "For Russian citizens..."
  }
}

И обнови админку чтобы можно было редактировать оба языка.
```

---

## Часть 6: Сохрани изменения

```bash
git add .
git commit -m "Add multilanguage support (RU/EN)"
git push
```

---

## ✅ Чеклист

- [ ] Переключатель языков в шапке
- [ ] Файлы переводов созданы
- [ ] Русский текст работает
- [ ] Английский текст работает
- [ ] Язык сохраняется в localStorage
- [ ] Все секции переведены
- [ ] Форма переведена (если есть)
- [ ] Работает на продакшене

---

## Что ты узнал

- Что такое i18n и зачем нужно
- Как организовать переводы в проекте
- Как использовать библиотеки для мультиязычности
- Как сохранять настройки пользователя

---

## Проблемы?

### Текст не переключается
- Проверь что используешь функцию перевода (t('key'))
- Проверь что ключи совпадают в файлах переводов

### Язык не сохраняется
- Проверь localStorage в DevTools браузера
- Проверь что код сохранения работает

### Часть текста не переведена
- Найди захардкоженный текст в коде
- Замени на ключ перевода
